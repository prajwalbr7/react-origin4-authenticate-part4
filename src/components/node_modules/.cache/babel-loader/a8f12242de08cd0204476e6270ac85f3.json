{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/sessions/authentication-and-authorization-part-4/src/components/PrimeDealsSection/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport ProductCard from '../ProductCard';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  success: 'Success'\n};\n\nclass PrimeDealsSection extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      primeDeals: [],\n      apiStatus: ''\n    };\n\n    this.getPrimeDeals = async () => {\n      const jwtToken = Cookies.get('jwt_token');\n      const apiUrl = 'https://apis.ccbp.in/prime-deals';\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n\n      if (response.ok === true) {\n        const fetchedData = await response.json();\n        const updatedData = fetchedData.prime_deals.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating\n        }));\n        this.setState({\n          primeDeals: updatedData,\n          apiStatus: 'SUCCESS'\n        });\n      }\n    };\n\n    this.renderPrimeDealsList = () => {\n      const {\n        primeDeals\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-list-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"primedeals-list-heading\",\n          children: \"Exclusive Prime Deals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"products-list\",\n          children: primeDeals.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            productData: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.renderPrimeDealsFailureView = () => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\",\n      alt: \"Register Prime\",\n      className: \"register-prime-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n\n    this.renderLoadingView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-loader-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#0b69ff\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getPrimeDeals();\n  }\n\n  render() {\n    const {\n      apiStatus\n    } = this.state;\n\n    switch (apiStatus) {\n      case 'SUCCESS':\n        return this.renderPrimeDealsList();\n\n      default:\n        return null;\n    }\n  }\n\n}\n\nexport default PrimeDealsSection;","map":{"version":3,"sources":["/home/workspace/reactjs/sessions/authentication-and-authorization-part-4/src/components/PrimeDealsSection/index.js"],"names":["Component","Cookies","Loader","ProductCard","apiStatusConstants","success","PrimeDealsSection","state","primeDeals","apiStatus","getPrimeDeals","jwtToken","get","apiUrl","options","headers","Authorization","method","response","fetch","ok","fetchedData","json","updatedData","prime_deals","map","product","title","brand","price","id","imageUrl","image_url","rating","setState","renderPrimeDealsList","renderPrimeDealsFailureView","renderLoadingView","componentDidMount","render"],"mappings":"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","sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\n\nimport ProductCard from '../ProductCard'\nimport './index.css'\n\nconst apiStatusConstants = {\n  success: 'Success',\n}\n\nclass PrimeDealsSection extends Component {\n  state = {\n    primeDeals: [],\n    apiStatus: '',\n  }\n\n  componentDidMount() {\n    this.getPrimeDeals()\n  }\n\n  getPrimeDeals = async () => {\n    const jwtToken = Cookies.get('jwt_token')\n\n    const apiUrl = 'https://apis.ccbp.in/prime-deals'\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(apiUrl, options)\n    if (response.ok === true) {\n      const fetchedData = await response.json()\n      const updatedData = fetchedData.prime_deals.map(product => ({\n        title: product.title,\n        brand: product.brand,\n        price: product.price,\n        id: product.id,\n        imageUrl: product.image_url,\n        rating: product.rating,\n      }))\n      this.setState({\n        primeDeals: updatedData,\n        apiStatus: 'SUCCESS',\n      })\n    }\n  }\n\n  renderPrimeDealsList = () => {\n    const {primeDeals} = this.state\n    return (\n      <div className=\"products-list-container\">\n        <h1 className=\"primedeals-list-heading\">Exclusive Prime Deals</h1>\n        <ul className=\"products-list\">\n          {primeDeals.map(product => (\n            <ProductCard productData={product} key={product.id} />\n          ))}\n        </ul>\n      </div>\n    )\n  }\n\n  renderPrimeDealsFailureView = () => (\n    <img\n      src=\"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\"\n      alt=\"Register Prime\"\n      className=\"register-prime-image\"\n    />\n  )\n\n  renderLoadingView = () => (\n    <div className=\"products-loader-container\">\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  render() {\n    const {apiStatus} = this.state\n    switch (apiStatus) {\n      case 'SUCCESS':\n        return this.renderPrimeDealsList()\n\n      default:\n        return null\n    }\n  }\n}\n\nexport default PrimeDealsSection\n"]},"metadata":{},"sourceType":"module"}